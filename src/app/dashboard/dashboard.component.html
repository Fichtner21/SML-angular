<section>
  <div class="container">
    <!-- <nav>
      <a routerLink="/dashboard/create-player">Create player</a>    
      <a routerLink="/dashboard/list-players">List players</a>      
    </nav> -->
    <!-- <div *ngIf="isLoggedIn()" style="border:3px solid red; margin: 20px; padding: 20px;">
      <div class="container">Hi and welcome!</div>
      <div class="container">Name: {{ userInfo?.info?.name }}</div>
      <div class="container"><img src="{{ userInfo?.info?.picture }}"></div> -->
      <!-- <div class="container">
        <button (click)="getEmails()">List Emails</button>
      </div> -->
      <!-- <div class="container" *ngFor="let snippet of mailSnippets">
        {{ snippet }}
      </div>
      <div class="container">
        <button (click)="logout()">Logout from Google</button>
      </div>
    </div> -->
    <div class="grid">
      <div class="grid-item">
        <a routerLink="/dashboard/create-player">Create player</a> 
      </div>
      <div class="grid-item">
        <a routerLink="/dashboard/list-players">List players</a> 
      </div>
      <div class="grid-item" *ngIf="isLoggedIn()">
        
        <a (click)="logout()">
          <img src="{{ userInfo?.info?.picture }}">
          Logout from Google
        </a>
      </div>
      
    </div>
    <div class="functions">   
      <mat-card> 
        <mat-card-header>
          <h2>Here is the functions to execute remote.</h2>
        </mat-card-header>
        <mat-card-content style="padding-top:10px;">
          <button mat-raised-button (click)="balanceTeams()">RUN balanceTeams()</button>
          <div class="desc">Click when you add players and  you want to create teams for war.</div>
        </mat-card-content>
        <mat-card-content>
          <button mat-raised-button (click)="selectTeams()">RUN selectTeams()</button>
          <div class="desc">Click when you want to select team (1 or 2).</div>
        </mat-card-content>
        <mat-card-content>
          <button mat-raised-button (click)="sortPlayers()">RUN sortPlayers()</button>
          <div class="desc">Click when you want to sort players by ranking.</div> 
        </mat-card-content>
        <mat-card-content>
          <button mat-raised-button color="warn" (click)="getStatistics()">RUN getStatistics()</button>
          <div class="desc">Click to test connections, check console.</div>
          
        </mat-card-content>
        <mat-card-content>
          <!-- <button mat-raised-button color="primary" (click)="updateCell()">RUN updateCell()</button> -->
          <div class="desc">Click to update cell.</div>
        </mat-card-content>
      </mat-card>        
    </div> 
    <div class="add-match">

      <form class="example-form" [formGroup]="playersToWar" (ngSubmit)="onSubmit()">
        <h3>Team 1</h3>
        <mat-form-field class="example-full-width" appearance="fill">
          <mat-label>Player 1</mat-label>
          <input type="text"
                placeholder="Pick one"
                aria-label="Player 1"
                matInput
                [formControl]="t1p1name"                
                [matAutocomplete]="auto1">
          <mat-autocomplete autoActiveFirstOption #auto1="matAutocomplete">
            <mat-option *ngFor="let option of filteredOptionsT1p1name | async" [value]="option.username">
              {{option.playername}} ({{ option.ranking }})
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>
        <mat-form-field class="example-full-width" appearance="fill">
          <mat-label>Player 2</mat-label>
          <input type="text"
                placeholder="Pick one"
                aria-label="Player 2"
                matInput
                [formControl]="t1p2name"
                [matAutocomplete]="auto2">
          <mat-autocomplete autoActiveFirstOption #auto2="matAutocomplete">
            <mat-option *ngFor="let option of filteredOptionsT1p2name | async" [value]="option.username">
              {{option.playername}} ({{ option.ranking }})
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>
        <mat-form-field class="example-full-width" appearance="fill">
          <mat-label>Player 3</mat-label>
          <input type="text"
                placeholder="Pick one"
                aria-label="Player 3"
                matInput
                [formControl]="t1p3name"
                [matAutocomplete]="auto3">
          <mat-autocomplete autoActiveFirstOption #auto3="matAutocomplete">
            <mat-option *ngFor="let option of filteredOptionsT1p3name | async" [value]="option.username">
              {{option.playername}} ({{ option.ranking }})
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>
        <mat-form-field class="example-full-width" appearance="fill">
          <mat-label>Player 4</mat-label>
          <input type="text"
                placeholder="Pick one"
                aria-label="Player 4"
                matInput
                [formControl]="t1p4name"
                [matAutocomplete]="auto4">
          <mat-autocomplete autoActiveFirstOption #auto4="matAutocomplete">
            <mat-option *ngFor="let option of filteredOptionsT1p4name | async" [value]="option.username">
              {{option.playername}} ({{ option.ranking }})
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>
        <mat-form-field class="example-full-width" appearance="fill">
          <mat-label>Player 5</mat-label>
          <input type="text"
                placeholder="Pick one"
                aria-label="Player 5"
                matInput
                [formControl]="t1p5name"
                [matAutocomplete]="auto5">
          <mat-autocomplete autoActiveFirstOption #auto5="matAutocomplete">
            <mat-option *ngFor="let option of filteredOptionsT1p5name | async" [value]="option.username">
              {{option.playername}} ({{ option.ranking }})
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>
        <mat-form-field class="example-full-width" appearance="fill">
          <mat-label>Player 6</mat-label>
          <input type="text"
                placeholder="Pick one"
                aria-label="Player 6"
                matInput
                [formControl]="t1p6name"
                [matAutocomplete]="auto6">
          <mat-autocomplete autoActiveFirstOption #auto6="matAutocomplete">
            <mat-option *ngFor="let option of filteredOptionsT1p6name | async" [value]="option.username">
              {{option.playername}} ({{ option.ranking }})
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>
        <mat-form-field class="example-full-width" appearance="fill">
          <mat-label>Player 7</mat-label>
          <input type="text"
                placeholder="Pick one"
                aria-label="Player 7"
                matInput
                [formControl]="t1p7name"
                [matAutocomplete]="auto7">
          <mat-autocomplete autoActiveFirstOption #auto7="matAutocomplete">
            <mat-option *ngFor="let option of filteredOptionsT1p7name | async" [value]="option.username">
              {{option.playername}} ({{ option.ranking }})
            </mat-option>
          </mat-autocomplete>
          <div></div>
        </mat-form-field>
        <button mat-raised-button type="submit">submit</button>  
        <notifier-container></notifier-container>     
      </form>
      <form [formGroup]="preEloTeamOne">
        <h3>Initial ELO</h3>
        <mat-form-field appearance="fill" class="readonly">
          <input type="text" matInput [formControl]="t1p1preelo"> 
        </mat-form-field>
        <mat-form-field appearance="fill" class="readonly">
          <input type="text" matInput [formControl]="t1p2preelo"> 
        </mat-form-field>
        <mat-form-field appearance="fill" class="readonly">
          <input type="text" matInput [formControl]="t1p3preelo"> 
        </mat-form-field>
        <mat-form-field appearance="fill" class="readonly">
          <input type="text" matInput [formControl]="t1p4preelo"> 
        </mat-form-field>
        <mat-form-field appearance="fill" class="readonly">
          <input type="text" matInput [formControl]="t1p5preelo"> 
        </mat-form-field>
        <mat-form-field appearance="fill" class="readonly">
          <input type="text" matInput [formControl]="t1p6preelo"> 
        </mat-form-field>
        <mat-form-field appearance="fill" class="readonly">
          <input type="text" matInput [formControl]="t1p7preelo"> 
        </mat-form-field>
      </form>
      <form [formGroup]="scoreTeamOne" (ngSubmit)="scoresTwoTeams()">
        <h3>Combat score</h3>
        <mat-form-field class="example-full-width score" apperance="fill">
          <mat-label>Frags Player 1</mat-label>
          <input matInput formControlName="t1p1score">
        </mat-form-field>
        <mat-form-field class="example-full-width score" apperance="fill">
          <mat-label>Frags Player 2</mat-label>
          <input matInput formControlName="t1p2score">
        </mat-form-field>
        <mat-form-field class="example-full-width score" apperance="fill">
          <mat-label>Frags Player 3</mat-label>
          <input matInput formControlName="t1p3score">
        </mat-form-field>
        <mat-form-field class="example-full-width score" apperance="fill">
          <mat-label>Frags Player 4</mat-label>
          <input matInput formControlName="t1p4score">
        </mat-form-field>
        <mat-form-field class="example-full-width score" apperance="fill">
          <mat-label>Frags Player 5</mat-label>
          <input matInput formControlName="t1p5score">
        </mat-form-field>
        <mat-form-field class="example-full-width score" apperance="fill">
          <mat-label>Frags Player 6</mat-label>
          <input matInput formControlName="t1p6score">
        </mat-form-field>
        <mat-form-field class="example-full-width score" apperance="fill">
          <mat-label>Frags Player 7</mat-label>
          <input matInput formControlName="t1p7score">
        </mat-form-field>
        <mat-form-field class="example-full-width score" apperance="fill">
          <mat-label>Team 1 Rounds Won</mat-label>
          <input matInput formControlName="t1roundsWon">
        </mat-form-field>
        <!-- <button mat-raised-button type="submit">submit</button>   -->
      </form>
      <div></div>
      <form class="example-form" [formGroup]="teamTwoToWar">
        <h3>Team 2</h3>
        <mat-form-field class="example-full-width" appearance="fill">
          <mat-label>Player 1</mat-label>
          <input type="text"
                placeholder="Pick one"
                aria-label="Player 1"
                matInput
                [formControl]="t2p1name"                
                [matAutocomplete]="auto7">
          <mat-autocomplete autoActiveFirstOption #auto7="matAutocomplete">
            <mat-option *ngFor="let option of filteredOptionsT2p1name | async" [value]="option.username">
              {{option.playername}} ({{ option.ranking }})
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>
        <mat-form-field class="example-full-width" appearance="fill">
          <mat-label>Player 2</mat-label>
          <input type="text"
                placeholder="Pick one"
                aria-label="Player 2"
                matInput
                [formControl]="t2p2name"
                [matAutocomplete]="auto8">
          <mat-autocomplete autoActiveFirstOption #auto8="matAutocomplete">
            <mat-option *ngFor="let option of filteredOptionsT2p2name | async" [value]="option.username">
              {{option.playername}} ({{ option.ranking }})
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>
        <mat-form-field class="example-full-width" appearance="fill">
          <mat-label>Player 3</mat-label>
          <input type="text"
                placeholder="Pick one"
                aria-label="Player 3"
                matInput
                [formControl]="t2p3name"
                [matAutocomplete]="auto9">
          <mat-autocomplete autoActiveFirstOption #auto9="matAutocomplete">
            <mat-option *ngFor="let option of filteredOptionsT2p3name | async" [value]="option.username">
              {{option.playername}} ({{ option.ranking }})
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>
        <mat-form-field class="example-full-width" appearance="fill">
          <mat-label>Player 4</mat-label>
          <input type="text"
                placeholder="Pick one"
                aria-label="Player 4"
                matInput
                [formControl]="t2p4name"
                [matAutocomplete]="auto10">
          <mat-autocomplete autoActiveFirstOption #auto10="matAutocomplete">
            <mat-option *ngFor="let option of filteredOptionsT2p4name | async" [value]="option.username">
              {{option.playername}} ({{ option.ranking }})
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>
        <mat-form-field class="example-full-width" appearance="fill">
          <mat-label>Player 5</mat-label>
          <input type="text"
                placeholder="Pick one"
                aria-label="Player 5"
                matInput
                [formControl]="t2p5name"
                [matAutocomplete]="auto11">
          <mat-autocomplete autoActiveFirstOption #auto11="matAutocomplete">
            <mat-option *ngFor="let option of filteredOptionsT2p5name | async" [value]="option.username">
              {{option.playername}} ({{ option.ranking }})
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>
        <mat-form-field class="example-full-width" appearance="fill">
          <mat-label>Player 6</mat-label>
          <input type="text"
                placeholder="Pick one"
                aria-label="Player 6"
                matInput
                [formControl]="t2p6name"
                [matAutocomplete]="auto12">
          <mat-autocomplete autoActiveFirstOption #auto12="matAutocomplete">
            <mat-option *ngFor="let option of filteredOptionsT2p6name | async" [value]="option.username">
              {{option.playername}} ({{ option.ranking }})
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>
        <mat-form-field class="example-full-width" appearance="fill">
          <mat-label>Player 7</mat-label>
          <input type="text"
                placeholder="Pick one"
                aria-label="Player 7"
                matInput
                [formControl]="t2p7name"
                [matAutocomplete]="auto13">
          <mat-autocomplete autoActiveFirstOption #auto13="matAutocomplete">
            <mat-option *ngFor="let option of filteredOptionsT2p7name | async" [value]="option.username">
              {{option.playername}} ({{ option.ranking }})
            </mat-option>
          </mat-autocomplete>
          <div></div>
        </mat-form-field>
        <!-- <button mat-raised-button type="submit">submit</button>   -->
        <notifier-container></notifier-container> 
      </form>       
      <form [formGroup]="preEloTeamTwo">
        <h3>Initial ELO</h3>
        <mat-form-field appearance="fill" class="readonly">
          <input type="text" matInput [formControl]="t2p1preelo"> 
        </mat-form-field>
        <mat-form-field appearance="fill" class="readonly">
          <input type="text" matInput [formControl]="t2p2preelo"> 
        </mat-form-field>
        <mat-form-field appearance="fill" class="readonly">
          <input type="text" matInput [formControl]="t2p3preelo"> 
        </mat-form-field>
        <mat-form-field appearance="fill" class="readonly">
          <input type="text" matInput [formControl]="t2p4preelo"> 
        </mat-form-field>
        <mat-form-field appearance="fill" class="readonly">
          <input type="text" matInput [formControl]="t2p5preelo"> 
        </mat-form-field>
        <mat-form-field appearance="fill" class="readonly">
          <input type="text" matInput [formControl]="t2p6preelo"> 
        </mat-form-field>
        <mat-form-field appearance="fill" class="readonly">
          <input type="text" matInput [formControl]="t2p7preelo"> 
        </mat-form-field>
      </form>      
      <form [formGroup]="scoreTeamTwo" (ngSubmit)="scoresTwoTeams()">
        <h3>Combat score</h3>
        <mat-form-field class="example-full-width score" apperance="fill">
          <mat-label>Frags Player 1</mat-label>
          <input matInput formControlName="t2p1score">
        </mat-form-field>
        <mat-form-field class="example-full-width score" apperance="fill">
          <mat-label>Frags Player 2</mat-label>
          <input matInput formControlName="t2p2score">
        </mat-form-field>
        <mat-form-field class="example-full-width score" apperance="fill">
          <mat-label>Frags Player 3</mat-label>
          <input matInput formControlName="t2p3score">
        </mat-form-field>
        <mat-form-field class="example-full-width score" apperance="fill">
          <mat-label>Frags Player 4</mat-label>
          <input matInput formControlName="t2p4score">
        </mat-form-field>
        <mat-form-field class="example-full-width score" apperance="fill">
          <mat-label>Frags Player 5</mat-label>
          <input matInput formControlName="t2p5score">
        </mat-form-field>
        <mat-form-field class="example-full-width score" apperance="fill">
          <mat-label>Frags Player 6</mat-label>
          <input matInput formControlName="t2p6score">
        </mat-form-field>
        <mat-form-field class="example-full-width score" apperance="fill">
          <mat-label>Frags Player 7</mat-label>
          <input matInput formControlName="t2p7score">
        </mat-form-field>
        <mat-form-field class="example-full-width score" apperance="fill">
          <mat-label>Team 2 Rounds Won</mat-label>
          <input matInput formControlName="t2roundsWon">
        </mat-form-field>
      </form>
    
      <button mat-raised-button (click)="clearTeam()">clear</button>
      <button mat-raised-button color="warn" (click)="scoresTwoTeams()">Send score (UPDATE ELO)</button>
      <div class="priview" *ngFor="let value of team1preview">
        <div>{{ value }}</div>
      </div>
    </div>
   
    <!-- <ng-container *ngIf="players$ | async as players">
      <ng-container *ngIf="players.length > 0">
        <ng-container *ngFor="let player of players; let i = index;">
          <div>PLAYER: <strong>{{ player.playername }}, ELO: {{ player.ranking }}</strong>, INDEX: {{ i + 1}}</div>
        </ng-container>
      </ng-container>
    </ng-container>
    <ng-container *ngIf="addAmatch$ | async as addAmatch">
      <ng-container *ngIf="addAmatch.length > 0">
        <ng-container *ngFor="let element of addAmatch; let i = index;">
          <div>ELEMENT: {{ element | json }} INDEX: {{ i }}</div>
        </ng-container>
      </ng-container>
    </ng-container>  -->
    
  <div>
      <!-- <app-list-data></app-list-data> -->
      <router-outlet></router-outlet>
    </div>
  </div>
</section>
